{"remainingRequest":"C:\\todo.list\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\todo.list\\src\\components\\Todo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\todo.list\\src\\components\\Todo.vue","mtime":1554107892775},{"path":"C:\\todo.list\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\todo.list\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\todo.list\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\todo.list\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport _ from 'lodash'\r\n\texport default {\r\n\t\tname: 'todo-list',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t/**\r\n\t\t\t\t * @name text\r\n\t\t\t\t * @param {String} Заголовок todo-элемента\r\n\t\t\t\t * @return {String} Result value\r\n\t\t\t\t*/\r\n\t\t\t\ttext: '',\r\n\t\t\t\t/**\r\n\t\t\t\t * @name selected\r\n\t\t\t\t * @param {Number} Выбранные элемент из select-списка\r\n\t\t\t\t * @return {Number} Result value\r\n\t\t\t\t*/\r\n\t\t\t\tselected: '',\r\n\t\t\t\t/**\r\n\t\t\t\t * @name items\r\n\t\t\t\t * @param {Number} Список элеменов\r\n\t\t\t\t * @return {Number} Result value\r\n\t\t\t\t*/\r\n\t\t\t\titems: [\r\n\t\t\t\t\t// {\r\n\t\t\t\t\t// \tid: 1,\r\n\t\t\t\t\t// \tisDone: false,\r\n\t\t\t\t\t// \tisParent: true,\r\n\t\t\t\t\t// \ttext: '1',\r\n\t\t\t\t\t// \tvalue: 'p_1',\r\n\t\t\t\t\t// \tchildren: [\r\n\t\t\t\t\t// \t\t{\r\n\t\t\t\t\t// \t\t\tid: 3,\r\n\t\t\t\t\t// \t\t\tisDone: false,\r\n\t\t\t\t\t// \t\t\tisParent: false,\r\n\t\t\t\t\t// \t\t\tparentId: 'p_1',\r\n\t\t\t\t\t// \t\t\ttext: '11',\r\n\t\t\t\t\t// \t\t\tvalue: 'p_13'\r\n\t\t\t\t\t// \t\t},\r\n\t\t\t\t\t// \t\t{\r\n\t\t\t\t\t// \t\t\tid: 4,\r\n\t\t\t\t\t// \t\t\tisDone: false,\r\n\t\t\t\t\t// \t\t\tisParent: false,\r\n\t\t\t\t\t// \t\t\tparentId: 'p_1',\r\n\t\t\t\t\t// \t\t\ttext: '111',\r\n\t\t\t\t\t// \t\t\tvalue: 'p_14'\r\n\t\t\t\t\t// \t\t},\r\n\t\t\t\t\t// \t]\r\n\t\t\t\t\t// },\r\n\t\t\t\t\t// {\r\n\t\t\t\t\t// \tid: 2,\r\n\t\t\t\t\t// \tisDone: false,\r\n\t\t\t\t\t// \tisParent: true,\r\n\t\t\t\t\t// \ttext: '2',\r\n\t\t\t\t\t// \tvalue: 'p_2',\r\n\t\t\t\t\t// \tchildren: []\r\n\t\t\t\t\t// },\r\n\t\t\t\t\t// {\r\n\t\t\t\t\t// \tid: 5,\r\n\t\t\t\t\t// \tisDone: false,\r\n\t\t\t\t\t// \tisParent: true,\r\n\t\t\t\t\t// \ttext: '3',\r\n\t\t\t\t\t// \tvalue: 'p_3',\r\n\t\t\t\t\t// \tchildren: []\r\n\t\t\t\t\t// }\r\n\t\t\t\t],\r\n\t\t\t\t/**\r\n\t\t\t\t * @name deleted_item\r\n\t\t\t\t * @param {Number} Удаляемый объект\r\n\t\t\t\t * @return {Number} Result value\r\n\t\t\t\t*/\r\n\t\t\t\tdeleted_item: {},\r\n\t\t\t\t/**\r\n\t\t\t\t * @name error\r\n\t\t\t\t * @param {String} Ошибка\r\n\t\t\t\t * @return {String} Result value\r\n\t\t\t\t*/\r\n\t\t\t\terror: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tmethods: {\r\n\t\t\t// Открытие модального окна для добавления элемента\r\n\t\t\tshowModal() {\r\n\t\t      this.$refs.myModalRef.show()\r\n\t\t    },\r\n\t\t    // Закрытие модального окна\r\n\t\t    hideModal() {\r\n\t\t      this.$refs.myModalRef.hide()\r\n\t\t    },\r\n\t\t    // Добавление элемента\r\n\t\t    add() {\r\n\t\t      \tthis.error = ''\r\n\t\t      \tlet i = this.items.length + 1\r\n\t\t     \t if(this.text) {\r\n\r\n\t\t\t      \tlet item = {\r\n\t\t\t      \t\ttext: this.text,\r\n\t\t\t      \t\tisDone: false,\r\n\t\t\t      \t}\r\n\r\n\t\t\t      \tif(this.selected) {\r\n\t\t\t      \t\tlet parent = _.find(this.items, item => item.value === this.selected)\r\n\t\t\t      \t\tif(parent.children.length < 3) {\r\n\t\t\t      \t\t\titem.value = `${parent.value}${i}`\r\n\t\t\t\t      \t\titem.isParent = false\r\n\t\t\t\t      \t\titem.parentId = parent.value\r\n\t\t\t\t      \t\titem.id = i\r\n\t\t\t\t      \t\tparent.children.push(item)\r\n\t\t\t\t      \t\tthis.text = ''\r\n\t\t\t\t            this.selected = ''\r\n\t\t\t\t      \t\tthis.hideModal()\r\n\t\t\t\t      \t\treturn true\r\n\t\t\t      \t\t}\r\n\t\t\t      \t\tif(parent.children.length === 3) {\r\n\t\t\t      \t\t\tthis.error = 'Превышен лимит вложенности. Выберите другой элемент'\r\n\t\t\t      \t\t\tthis.text = ''\r\n\t\t\t\t        \tthis.selected = ''\r\n\t\t\t      \t\t\treturn true\r\n\t\t\t      \t\t}\r\n\t\t\t      \t} else {\r\n\t\t\t      \t\titem.isParent = true\r\n\t\t\t      \t\titem.value = `p_${i}`\r\n\t\t\t      \t\titem.id = i\r\n\t\t\t      \t\titem.children = []\r\n\t\t\t      \t\tthis.items.push(item)\r\n\t\t\t      \t\tthis.text = ''\r\n\t\t\t\t        this.selected = ''\r\n\t\t\t\t        this.hideModal()\r\n\t\t\t      \t}\r\n\t\t\t        \r\n\t\t    \t}\r\n\t\t    },\r\n\t\t    // Отмена добавления\r\n\t\t    cancel() {\r\n\t\t      this.text = ''\r\n\t\t      this.error = ''\r\n\t\t      this.selected = ''\r\n\t\t      this.hideModal()\r\n\t\t    },\r\n\t\t    // Проверка на выполненое задание\r\n\t\t    checkIsDone(id, parentId) {\r\n\t\t    \tlet checked = []\r\n\t\t    \t// Дочерний элемент\r\n\t\t    \tif(parentId !== '') {\r\n\t\t    \t\tlet parent = this.items[parentId]\r\n\t\t    \t\tchecked = parent.children[id]\r\n\t\t    \t\tchecked.isDone = !checked.isDone\r\n\r\n\t\t    \t\tif(checked.isDone) {\r\n\t\t    \t\t\tlet done = _.cloneDeep(checked)\r\n\t\t    \t\t\tthis.items[parentId].children.splice(id, 1)\r\n\t\t    \t\t\tthis.items[parentId].children.push(done)\r\n\t\t    \t\t}\r\n\t\t    \t} else { /* Родительский элемент */\r\n\t\t    \t\tchecked = this.items[id]\r\n\t\t    \t\tlet children = checked.children\r\n\t\t    \t\tchecked.isDone = !checked.isDone;\r\n\r\n\t\t    \t\tfor(let i = 0; i < children.length; i++) {\r\n\t\t    \t\t\tif(!children[i].isDone) {\r\n\t\t    \t\t\t\tchildren[i].isDone = !children[i].isDone\r\n\t\t    \t\t\t}\r\n\t\t    \t\t}\r\n\r\n\t\t    \t\tif(checked.isDone) {\r\n\t\t    \t\t\tlet done = _.cloneDeep(checked)\r\n\t\t\t    \t\tthis.items.splice(id, 1)\r\n\t\t\t    \t\tthis.items.push(done)\r\n\t\t    \t\t}\r\n\t\t    \t}\r\n\t\t    },\r\n\t\t    // Открытие диалога удаления элемента\r\n\t\t    deleteItem(id, parentId) {\r\n\t\t    \tthis.deleted_item = {id, parentId}\r\n\t\t    \tthis.$refs.delete_modal.show()\r\n\t\t    },\r\n\t\t    // Подтверждение удаления\r\n\t\t    confirmDelete() {\r\n\t\t\t\tif(this.deleted_item.parentId !== '') {\r\n\t\t    \t\tthis.items[this.deleted_item.parentId].children.splice(this.deleted_item.id, 1)\r\n\t\t    \t} else {\r\n\t\t    \t\tthis.items.splice(this.deleted_item.id, 1)\r\n\t\t    \t}\r\n\t\t    \tthis.$refs.delete_modal.hide()\r\n\t\t    },\r\n\t\t    // Возвращает список элементов для select-а\r\n\t\t    todos() {\r\n\t\t\t\treturn _.filter(this.items, item => item.isParent === true)\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n",{"version":3,"sources":["Todo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Todo.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div class=\"container\">\r\n\t\t<div class=\"title\">\r\n\t\t\t<p>Todo list</p>\r\n\t\t</div>\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class=\"add\">\r\n\t\t\t\t<b-button block variant=\"primary\" @click=\"showModal\">Добавить</b-button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"items-list\">\r\n\t\t\t\t<ul class=\"items\">\r\n\t\t\t\t\t<li class=\"item-parent\" v-for=\"(item, id) in items\">\r\n\t\t\t\t\t\t<div class=\"item\">\r\n\t\t\t\t\t\t\t<p @click=\"checkIsDone(id, '')\" :class=\"{done:item.isDone}\">\r\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" v-model=\"item.isDone\">\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{{ item.text }}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<a class=\"delete_link\" @click=\"deleteItem(id, '')\" v-if=\"item.isDone\">Удалить</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<ul class=\"item-children\" v-for=\"(child, childId) in item.children\">\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<div class=\"child\">\r\n\t\t\t\t\t\t\t\t\t<p @click=\"checkIsDone(childId, id)\" :class=\"{done:child.isDone}\">\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" v-model=\"child.isDone\">\r\n\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t{{ child.text }}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<a class=\"delete_link\" @click=\"deleteItem(childId, id)\" v-if=\"child.isDone\">Удалить</a>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<b-modal ref=\"myModalRef\" hide-footer title=\"Добавление нового элемента\">\r\n\t\t\t<div class=\"d-block text-center\">\r\n\t\t\t    <p v-if=\"error !== ''\" class=\"error-text\">{{ error }}</p>\r\n\t\t\t    <b-form-group\r\n\t\t\t      id=\"fieldset-2\"\r\n\t\t\t      label=\"Родительский элемент\"\r\n\t\t\t      label-for=\"todo\"\r\n\t\t\t      label-cols-sm=\"4\"\r\n      \t\t\t  label-cols-lg=\"3\"\r\n\t\t\t    >\r\n\t\t\t      <b-form-select id=\"todo\" v-model=\"selected\" :options=\"todos()\"></b-form-select>\r\n\t\t\t    </b-form-group>\r\n\t\t\t\t<b-form-group\r\n\t\t\t      id=\"fieldset-1\"\r\n\t\t\t      label=\"Заголовок\"\r\n\t\t\t      label-for=\"text\"\r\n\t\t\t      label-cols-sm=\"4\"\r\n      \t\t\t  label-cols-lg=\"3\"\r\n\t\t\t    >\r\n\t\t\t      <b-form-input id=\"text\" v-model=\"text\" type=\"text\" placeholder=\"Введите текст\" />\r\n\t\t\t    </b-form-group>\r\n\t\t\t</div>\r\n\t\t\t<b-button class=\"mt-3\" variant=\"primary\" block @click=\"add\">Добавить</b-button>\r\n\t\t\t<b-button class=\"mt-2\" variant=\"danger\" block @click=\"cancel\">Отмена</b-button>\r\n\t\t</b-modal>\r\n\r\n\t\t<b-modal ref=\"delete_modal\" hide-footer title=\"Подтверждение удаления\">\r\n\t\t\t<div class=\"d-block text-center\">\r\n\t\t\t\t<h3>Вы действительно хотите удалить элемент?</h3>\r\n\t\t\t</div>\r\n\t\t\t<b-button class=\"mt-3\" variant=\"primary\" block @click=\"confirmDelete()\">Да</b-button>\r\n\t\t\t<b-button class=\"mt-2\" variant=\"danger\" block @click=\"deleteCancel()\">Нет</b-button>\r\n\t\t</b-modal>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport _ from 'lodash'\r\n\texport default {\r\n\t\tname: 'todo-list',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t/**\r\n\t\t\t\t * @name text\r\n\t\t\t\t * @param {String} Заголовок todo-элемента\r\n\t\t\t\t * @return {String} Result value\r\n\t\t\t\t*/\r\n\t\t\t\ttext: '',\r\n\t\t\t\t/**\r\n\t\t\t\t * @name selected\r\n\t\t\t\t * @param {Number} Выбранные элемент из select-списка\r\n\t\t\t\t * @return {Number} Result value\r\n\t\t\t\t*/\r\n\t\t\t\tselected: '',\r\n\t\t\t\t/**\r\n\t\t\t\t * @name items\r\n\t\t\t\t * @param {Number} Список элеменов\r\n\t\t\t\t * @return {Number} Result value\r\n\t\t\t\t*/\r\n\t\t\t\titems: [\r\n\t\t\t\t\t// {\r\n\t\t\t\t\t// \tid: 1,\r\n\t\t\t\t\t// \tisDone: false,\r\n\t\t\t\t\t// \tisParent: true,\r\n\t\t\t\t\t// \ttext: '1',\r\n\t\t\t\t\t// \tvalue: 'p_1',\r\n\t\t\t\t\t// \tchildren: [\r\n\t\t\t\t\t// \t\t{\r\n\t\t\t\t\t// \t\t\tid: 3,\r\n\t\t\t\t\t// \t\t\tisDone: false,\r\n\t\t\t\t\t// \t\t\tisParent: false,\r\n\t\t\t\t\t// \t\t\tparentId: 'p_1',\r\n\t\t\t\t\t// \t\t\ttext: '11',\r\n\t\t\t\t\t// \t\t\tvalue: 'p_13'\r\n\t\t\t\t\t// \t\t},\r\n\t\t\t\t\t// \t\t{\r\n\t\t\t\t\t// \t\t\tid: 4,\r\n\t\t\t\t\t// \t\t\tisDone: false,\r\n\t\t\t\t\t// \t\t\tisParent: false,\r\n\t\t\t\t\t// \t\t\tparentId: 'p_1',\r\n\t\t\t\t\t// \t\t\ttext: '111',\r\n\t\t\t\t\t// \t\t\tvalue: 'p_14'\r\n\t\t\t\t\t// \t\t},\r\n\t\t\t\t\t// \t]\r\n\t\t\t\t\t// },\r\n\t\t\t\t\t// {\r\n\t\t\t\t\t// \tid: 2,\r\n\t\t\t\t\t// \tisDone: false,\r\n\t\t\t\t\t// \tisParent: true,\r\n\t\t\t\t\t// \ttext: '2',\r\n\t\t\t\t\t// \tvalue: 'p_2',\r\n\t\t\t\t\t// \tchildren: []\r\n\t\t\t\t\t// },\r\n\t\t\t\t\t// {\r\n\t\t\t\t\t// \tid: 5,\r\n\t\t\t\t\t// \tisDone: false,\r\n\t\t\t\t\t// \tisParent: true,\r\n\t\t\t\t\t// \ttext: '3',\r\n\t\t\t\t\t// \tvalue: 'p_3',\r\n\t\t\t\t\t// \tchildren: []\r\n\t\t\t\t\t// }\r\n\t\t\t\t],\r\n\t\t\t\t/**\r\n\t\t\t\t * @name deleted_item\r\n\t\t\t\t * @param {Number} Удаляемый объект\r\n\t\t\t\t * @return {Number} Result value\r\n\t\t\t\t*/\r\n\t\t\t\tdeleted_item: {},\r\n\t\t\t\t/**\r\n\t\t\t\t * @name error\r\n\t\t\t\t * @param {String} Ошибка\r\n\t\t\t\t * @return {String} Result value\r\n\t\t\t\t*/\r\n\t\t\t\terror: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tmethods: {\r\n\t\t\t// Открытие модального окна для добавления элемента\r\n\t\t\tshowModal() {\r\n\t\t      this.$refs.myModalRef.show()\r\n\t\t    },\r\n\t\t    // Закрытие модального окна\r\n\t\t    hideModal() {\r\n\t\t      this.$refs.myModalRef.hide()\r\n\t\t    },\r\n\t\t    // Добавление элемента\r\n\t\t    add() {\r\n\t\t      \tthis.error = ''\r\n\t\t      \tlet i = this.items.length + 1\r\n\t\t     \t if(this.text) {\r\n\r\n\t\t\t      \tlet item = {\r\n\t\t\t      \t\ttext: this.text,\r\n\t\t\t      \t\tisDone: false,\r\n\t\t\t      \t}\r\n\r\n\t\t\t      \tif(this.selected) {\r\n\t\t\t      \t\tlet parent = _.find(this.items, item => item.value === this.selected)\r\n\t\t\t      \t\tif(parent.children.length < 3) {\r\n\t\t\t      \t\t\titem.value = `${parent.value}${i}`\r\n\t\t\t\t      \t\titem.isParent = false\r\n\t\t\t\t      \t\titem.parentId = parent.value\r\n\t\t\t\t      \t\titem.id = i\r\n\t\t\t\t      \t\tparent.children.push(item)\r\n\t\t\t\t      \t\tthis.text = ''\r\n\t\t\t\t            this.selected = ''\r\n\t\t\t\t      \t\tthis.hideModal()\r\n\t\t\t\t      \t\treturn true\r\n\t\t\t      \t\t}\r\n\t\t\t      \t\tif(parent.children.length === 3) {\r\n\t\t\t      \t\t\tthis.error = 'Превышен лимит вложенности. Выберите другой элемент'\r\n\t\t\t      \t\t\tthis.text = ''\r\n\t\t\t\t        \tthis.selected = ''\r\n\t\t\t      \t\t\treturn true\r\n\t\t\t      \t\t}\r\n\t\t\t      \t} else {\r\n\t\t\t      \t\titem.isParent = true\r\n\t\t\t      \t\titem.value = `p_${i}`\r\n\t\t\t      \t\titem.id = i\r\n\t\t\t      \t\titem.children = []\r\n\t\t\t      \t\tthis.items.push(item)\r\n\t\t\t      \t\tthis.text = ''\r\n\t\t\t\t        this.selected = ''\r\n\t\t\t\t        this.hideModal()\r\n\t\t\t      \t}\r\n\t\t\t        \r\n\t\t    \t}\r\n\t\t    },\r\n\t\t    // Отмена добавления\r\n\t\t    cancel() {\r\n\t\t      this.text = ''\r\n\t\t      this.error = ''\r\n\t\t      this.selected = ''\r\n\t\t      this.hideModal()\r\n\t\t    },\r\n\t\t    // Проверка на выполненое задание\r\n\t\t    checkIsDone(id, parentId) {\r\n\t\t    \tlet checked = []\r\n\t\t    \t// Дочерний элемент\r\n\t\t    \tif(parentId !== '') {\r\n\t\t    \t\tlet parent = this.items[parentId]\r\n\t\t    \t\tchecked = parent.children[id]\r\n\t\t    \t\tchecked.isDone = !checked.isDone\r\n\r\n\t\t    \t\tif(checked.isDone) {\r\n\t\t    \t\t\tlet done = _.cloneDeep(checked)\r\n\t\t    \t\t\tthis.items[parentId].children.splice(id, 1)\r\n\t\t    \t\t\tthis.items[parentId].children.push(done)\r\n\t\t    \t\t}\r\n\t\t    \t} else { /* Родительский элемент */\r\n\t\t    \t\tchecked = this.items[id]\r\n\t\t    \t\tlet children = checked.children\r\n\t\t    \t\tchecked.isDone = !checked.isDone;\r\n\r\n\t\t    \t\tfor(let i = 0; i < children.length; i++) {\r\n\t\t    \t\t\tif(!children[i].isDone) {\r\n\t\t    \t\t\t\tchildren[i].isDone = !children[i].isDone\r\n\t\t    \t\t\t}\r\n\t\t    \t\t}\r\n\r\n\t\t    \t\tif(checked.isDone) {\r\n\t\t    \t\t\tlet done = _.cloneDeep(checked)\r\n\t\t\t    \t\tthis.items.splice(id, 1)\r\n\t\t\t    \t\tthis.items.push(done)\r\n\t\t    \t\t}\r\n\t\t    \t}\r\n\t\t    },\r\n\t\t    // Открытие диалога удаления элемента\r\n\t\t    deleteItem(id, parentId) {\r\n\t\t    \tthis.deleted_item = {id, parentId}\r\n\t\t    \tthis.$refs.delete_modal.show()\r\n\t\t    },\r\n\t\t    // Подтверждение удаления\r\n\t\t    confirmDelete() {\r\n\t\t\t\tif(this.deleted_item.parentId !== '') {\r\n\t\t    \t\tthis.items[this.deleted_item.parentId].children.splice(this.deleted_item.id, 1)\r\n\t\t    \t} else {\r\n\t\t    \t\tthis.items.splice(this.deleted_item.id, 1)\r\n\t\t    \t}\r\n\t\t    \tthis.$refs.delete_modal.hide()\r\n\t\t    },\r\n\t\t    // Возвращает список элементов для select-а\r\n\t\t    todos() {\r\n\t\t\t\treturn _.filter(this.items, item => item.isParent === true)\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n</script>"]}]}